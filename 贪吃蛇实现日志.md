##          贪吃蛇实现日志 
### 11月18日 Day 1
***
>成果：完成了一些资源的导入，基本完成snake类的构建，其中的思想主要是：采用循环链表存储贪吃蛇的每一个节点，每个节点保存运动方向以及相应的函数。同时，由于蛇头和蛇身略有不同，因此采用不同的node构造函数加以区分。
>难点以及解决方案：
>
>>如何实现蛇状态的更新？
>>解决方案：每个蛇身节点在运动方向上运动一段距离，如果之后发现在该运动方向上其坐标超过了前一个节点，则意味着前一个节点转弯了，也意味着该节点也要转弯（转向前一节点的运动方向），蛇头来控制整个方向，具体类内容如下

<img src="C:\Users\周昱宏\AppData\Roaming\Typora\typora-user-images\image-20201119004330274.png" alt="image-20201119004330274" style="zoom:80%;" />

***
### 11月19日 Day2
>成果：把资源图片都改成正方形，方便转向（不用改变矩形长宽），基本完成食物类的构建，相比于第一天的成果，加入了遗漏的moveto函数（矩形移动），加入键盘事件（不知道有无问题）
>难点以及解决方案：暂无
>食物类如下
>
><img src="C:\Users\周昱宏\AppData\Roaming\Typora\typora-user-images\image-20201123001429719.png" alt="image-20201123001429719" style="zoom: 67%;" />

***

### 11月21日 Day3
>成果：完成了基本的蛇框架，想跑一跑试试，结果程序crashed，打开debug模式，发现报错是Segmentation Fault 初始化Snake 对象卡在，S_node.load那里，查了好多资料未果，心态崩了

***
### 11月22日 Day4
>成果：早上，重新debug半小时，无果，上网搜索，使用关键词：QPixmap+Segmentation Fault 成功找到一篇文章，链接如下：
>

>https://blog.csdn.net/wzj0808/article/details/83587464
>把所有的QPixmap换成QImage 问题解决。
>跑了程序，发现节点会挤在一起，于是加了位置限定的代码，问题解决。
>新完成了Wall类，同时写了碰撞到地图边界，墙块，蛇身的碰撞函数，以及对应的处理（未写life->0怎么处理），Wall类如下

<img src="C:\Users\周昱宏\AppData\Roaming\Typora\typora-user-images\image-20201123001513627.png" alt="image-20201123001513627" style="zoom:67%;" />

***

### 11月28日 Day5

> 成果：今天是debug的一天，由于delete节点，产生了一系列bug，同时，食物的update函数，随机生成位置导致有概率进入死循环，最后表现出来是，程序随机崩溃（运行随机时间后崩溃），刚开始找错方向了，后来才艰难地发现这个问题。
>
> 教训：1、在对new过的指针进行delete操作之后，一定要把这个指针设置为NULL ，否则该指针成为野指针，会出现很多问题（例如segmentation fault）

> ​            2、有条件一定要备份，或者改之前的代码也用注释保存下来，今天解决一个bug时由于忘了原代码，浪费了好多时间。
>
> ​            3、当占用cpu剧烈增加，程序没响应，可能是进入了死循环。

***

### 11月29号 Day6

> 成果：修复昨天找到的bug，发现是fd->f_free未更改导致。同时，基本完成了ui界面（虽然很丑，但是不管了），完成了重新开始和墙块食物的移动。还差AI蛇以及存档读档这两个比较头疼的功能，另外，新加入的食物是蘑菇，效果是使蛇缩短一节。 
>
> 问题：今天都挺顺利的，无较大问题。
>

### 12月20号 Dayx
>#### final update
>贪吃蛇的ai很早就写好了，但是跑得太差了，一点办法没有。思想采用的是贪婪法，在蛇跑的过程中进行方向的查找。
>
>优化了按钮的外观，标签的字体等等。
>
>其实开发用的时间要比这个文档写的多......END